<html>
<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<link rel="stylesheet" type="text/css" href="public/css/signup.css">
 <link rel="stylesheet" href="public/css/bootstrap.min.css">
  <script src="public/js/jquery-3.1.0.min.js"></script>
  <script src="public/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="public/css/example.wink.css">

<body>
      <div class="carousel slide carousel-fade" data-ride="carousel">

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox" style="margin-top:0px;">
            <div class="item active" >
              <div style="margin-left:100px;padding-top:450px;">
                          </div>              
            </div>

            <div class="item">
              <div style="margin-left:100px;padding-top:450px;">
                          </div>
            </div>

            <div class="item">
              <div style="margin-left:100px;padding-top:450px;">
                          </div>
            </div>
        </div>
      </div>

  <div class="w3-container">
      <div class="w3-card-12 left">
            
        <div class="card-block">
        <div ng-app="validationApp" ng-controller="mainController">   

   <div  class="modal show" tabindex="-1" role="dialog" aria-hidden="true" >
    <div class="modal-dialog" style="float:right; margin-right:50px;margin-top:30px;">
      <div  id="form">
      
          <!--h1 class="text-center">Sign Up</h1-->

        <div class="modal-content" style="background-color: rgba(0, 0, 0, .7);">
          <div class="modal-header">

              <h2 class="text-center" style="color:white;">Sign Up for tripLo</h2>
                         <h4 class="text-center" style="color:white;">Welcome to tripLo</h4>
                         <div class="col-md-12">
                          <div>
                                 <button type="button" class="btn btn-primary btn-lg text-center" style="margin-top:20px; margin-left:165px;">Sign Up With Facebook</button>
                          </div>
                          
                          <div>
                                  <button type="button" class="btn btn-danger btn-lg" style="margin-top:20px; margin-left:175px; margin-bottom:30px; ">Sign Up With Google  </button>
                          </div> 
                         </div>
        </div>
   
       <form   id="loginForm" >
                <div class="modal-body" >
      
                    
                    <div class="form-group" style="float:left;">
                      <input type="text" class="form-control input-lg" placeholder="Username" id="username">
                    </div>
                    <div class="form-group" style="float:left;margin-left:60px;">
                      <input type="text" class="form-control input-lg" placeholder="Email" id="email">
                    </div>
                    <div class="form-group" style="float:left;">
                      <input type="password" class="form-control input-lg" placeholder="Password" id="password_1">
                    </div>

                    <div class="form-group" style="float:left;margin-left:32px;">
                      <input type="password" class="form-control input-lg" placeholder="Confirm Password" id="password">
                    </div>
                    
                    
                    <div class="form-group" style="float:left;">
                      <input type="text" class="form-control input-lg" placeholder="First Name" id="firstname">
                    </div>

                    <div class="form-group" style="float:left;margin-left:63px;">
                      <input type="text" class="form-control input-lg" placeholder="Last Name" id="lastname">
                    </div>                      
                    
                          
             </div>     
              
          
           <div class="modal-footer"> 
              <div class="col-md-12">
                <div class="form-group">
                  <button class="btn btn-primary btn-lg " data-toggle="modal" type="submit" style="margin-right:230px;">Sign Up</button>
                  <!--button id="tryButton" onClick="$('#myModal').modal('show');">adfad</button-->
                </div>
                   <p class="text-center" style="color:white;">Creating an account means you're OK with tripLo's Terms of Service and Privacy Policy</p>
          
              </div>
           </div>  
       </form>

       <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog">
                    
                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">Modal Header</h4>
                        </div>
                        <div class="modal-body">
                          <p>Some text in the modal.</p>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                      </div>
                      
                    </div>
           

        </div>    
      </div>
    </div>
   </div>
  </div>
  </div>
</div>
</div>

      <script type="text/javascript">
           $('.carousel').carousel();

      </script>

      <script src="public/js/jquery.js"></script>
      <script src="public/js/jquery.cookie.js"></script>
      <script src="public/js/hideShowPassword.min.js"></script>
      <script>
$('#password_1').hidePassword(true);

$('#show-password').change(function(){
  $('#password_1').hideShowPassword($(this).prop('checked'));
});

</script>


<script >
    $(document).ready(function(){
      jQuery.noConflict();
      
      $('#loginForm').submit(function(e){
          var data = {
            email : $('#email').val(),
            username : $('#username').val(),
            repassword : $('#password').val(),
            password : $('#password_1').val(),
            fname : $('#firstname').val(),
            lname : $('#lastname').val()
          };
          if (data.email.length > 5 && data.username.length > 5 && data.password.length > 5 && data.repassword.length > 5 && data.fname.length > 2 && data.lname.length > 2){
            $.ajax({
            type : 'POST',
            url : 'http://localhost:3000/api/register',
            data : data,
            dataType : 'json',
            encode : true,
            timeout: 3000,
            success: function(data){
                      
                        if(data.success == false)
                        {
                            $("#myModal>div>div>div>p").html(data.message);
                             $("#myModal").modal('show');
                        }
                       else
                        {
                          $("#myModal>div>div>div>p").html(data.message);
                             $("#myModal").modal('show');
                          //$.cookie('token',data.token);
                        }
                         /* $.cookie('username',data.user.username);
                          $.cookie('picture',data.user.pic);
                          $.cookie('fname',data.user.fnames);
                         // $.cookie('token',data.token);*/
                    },
            error: function(x, t, m){
                    $("#myModal>div>div>div>p").html(t+','+JSON.stringify(x)+','+m);
                    $("#myModal").modal('show');
                  }
            });
          }
          else{
                $("#myModal>div>div>div>p").html("Length too short");
                $("#myModal").modal('show');
          }
          e.preventDefault();
      });
    });
</script>


</body>
</html>

